---
framework: vue-vite
widgetPackage: "@ncodes/widget"
capabilityMapPath: "{{capabilityMapPath}}"
generatedBy: "n.codes CLI v{{version}}"
generatedAt: "{{timestamp}}"
---

# n.codes Installation for Vue + Vite

## Prerequisites
- `{{capabilityMapPath}}` exists in project root (generated by `n.codes sync`)
- Project uses Vue 3 with Vite

## Step 1: Install the widget package

**Action:** Install the n.codes widget SDK.

```bash
npm install @ncodes/widget
```

**Verify:** `node_modules/@ncodes/widget` directory exists.

## Step 2: Copy capability map to public/

**Action:** Copy the JSON capability map to the public directory.

```bash
cp {{capabilityMapPath}} public/n.codes.capabilities.json
```

**Verify:** `public/n.codes.capabilities.json` exists and is valid JSON.

## Step 3: Create the n.codes plugin

**File:** `src/plugins/ncodes.js` (create new file)
**Action:** Create a Vue plugin that initializes the widget on mount.

```js
import * as NCodes from '@ncodes/widget';

export default {
  install(app) {
    app.mixin({
      mounted() {
        if (this.$root === this && !window.__ncodesInitialized) {
          window.__ncodesInitialized = true;
          // Replace with your actual auth state
          const user = { id: 'demo', name: 'Demo User' };
          if (user) {
            NCodes.init({
              user,
              capabilityMapUrl: '/n.codes.capabilities.json',
              mode: 'simulation',
              theme: 'auto',
            });
          }
        }
      },
      unmounted() {
        if (this.$root === this && window.__ncodesInitialized) {
          NCodes.destroy();
          window.__ncodesInitialized = false;
        }
      },
    });
  },
};
```

**Verify:** File exists at `src/plugins/ncodes.js`.

## Step 4: Register the plugin

**File:** `src/main.js` (or `src/main.ts`)
**Action:** Import and use the n.codes plugin.

```js
// Add this import:
import ncodes from './plugins/ncodes';

// Add this after createApp():
app.use(ncodes);
```

**Verify:** `src/main.js` imports and uses the ncodes plugin.

## Verification

1. Start the dev server: `npm run dev`
2. Open the app in a browser
3. Confirm the "Build with AI" floating button appears
4. Click it and enter a prompt
5. Confirm the simulation works
